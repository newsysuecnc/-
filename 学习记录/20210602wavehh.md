# 实例三.可复用的网格组件

1.query询问，查询 grid网格，方格  sortorder顺序 capitalize把…首字母大写   
2.callback回调函数。回调函数就是传递一个参数化的函数，就是将这个函数作为一个参数传到另一个主函数里面，当那一个主函数执行完之后，再执行传进去的作为参数的函数。走这个过程的参数化的函数 就叫做回调函数。换个说法也就是被作为参数传递到另一个函数（主函数）的那个函数就叫做 回调函数。  
3.forEach是回调函数版的遍历数组，回调函数拿到的参数依次为value，index，array。在该回调函数内对遍历的值进行操作    
4.js奇奇怪怪的惰性求值 源码中这句`var filterKey = this.filterKey && this.filterKey.toLowerCase();`两个字符串进行逻辑与运算。。。根据js惰性求值原则，在逻辑运算公式中碰到非布尔变量参考下面表格    

|情况|结论|
|---|---|
|逻辑与|只要结果是为false的时候，直接返回false，如果前面的表达式执行结果一直是true的话，然后会执行到最后一个表达式，如果最后一个表达式为非false，那么直接返回这个表达式的结果，反之直接是false|
|逻辑或|只要或之前有结果是为true的时候，或后面的表达式都不会继续执行了，直接返回或之前的结果；如果执行到最后一个表达式，那么直接返回最后一个表达式的值|

故这句话实际上表达的是筛选关键字转化为小写，为何这样写意义不明  

5.filter() 方法创建一个新的数组，新数组中的元素是通过检查指定数组中符合条件的所有元素。filter() 不会对空数组进行检测也不会改变原始数组。  
6.回调函数深入研究 [回调函数](https://blog.csdn.net/weixin_39848998/article/details/111091274) 本实例中有回调函数的三层嵌套   

## 回调函数

1.普通函数：写死的算法，参数可变，传入不同的参数得到不同的结果——函数活了  
2.回调函数与普通函数相应的理解：写死的数据，传入一个算法（函数），通过回调函数间接调用传入的函数  
```
//普通函数
var test = function(abc){
console.log(abc);
};
//普通函数的调用
test('HelloWorld');

//回调函数
var test = function(fun){
    fun('Helloworld');
};
//回调函数的调用,传入了一个完整的函数作为参数
test( function(words) {console.log(words);}  );
//回调函数调用等价于内部发生了如下操作，函数指针赋值
{
    //调用test传进来一个函数之后，abc就是那个函数
    abc = function(words) {console.log(words);};
    //用abc操作字符串，'HelloWorld'变成了传进来的函数的参数
    abc('HelloWorld');
}
```
3.由于回调函数的特殊性，虽然我们传入的函数局限于 function(){} 的形式，但是这种写法是原始写法，相当于定义了一个新函数然后传进去，不仅脱离生产环境，而且有很多局限 (比如 this. 作用域问题) ，下一步，要把这种形式改为剪头函数。 一个函数只用一次，并且不需要直到它的名字时，可以用匿名函数来简化。 在解决 this. 作用域时，又将 匿名函数 转化为 箭头函数 。  
4.箭头函数，省略了function只保留了(参数)=>{函数体}  
```
//以下两种写法等价

function (words) {console.log(words);}

(words) => {console.log(words);}
```
**5.回调函数嵌套** 
```
//回调函数二层嵌套
var test = function(abc){
    abc( (def) => {console.log(def);} );
}
```
该例子中回调函数test函数体调用一个回调函数传入一个固定的箭头函数参数，所以调用顺序为test->abc->console.log(),则abc函数体为
```
abc=function(fun){
	fun('helloworld')
}
```
调用test(abc)输出helloworld  

6.JS中的所有对象都是继承自Object对象，Object.keys()方法输出对象的所有属性名，输出字符串的所有索引  
7.JS中数组的some方法some() 方法用于检测数组中的元素是否满足指定条件（函数提供）。  
some() 方法会依次执行数组的每个元素：
如果有一个元素满足条件，则表达式返回true , 剩余的元素不会再执行检测。  
如果没有满足条件的元素，则返回false。  
注意： some() 不会对空数组进行检测。  
注意： some() 不会改变原始数组。  
8.JS中数组可以用字符串作为下标索引
9.JS中Array.sort()方法对数组进行排序，参数为一个回调函数，排序根据回调函数返回值，如果返回值大于 0，则位置互换。如果返回值小于 0，则位置不变。  

# 实例四：树形视图

1.vm.$emit( eventName, […args] )

参数{string} eventName   [...args]
触发当前实例上的事件。附加参数都会传给监听器回调。  
2.启动 boot up
3.此实例中一个关键的地方在于使用$emit让子组件触发父组件的自定义事件，父组件@事件名监听，子组件$emit触发，注意父子组件方法名字在该实例中一样，但是需要区分
4.此实例中使用到vue递归组件，我说看了半天看不明白。组件是可以在它们自己的模板中调用自身的。既然是递归就可以解释的清楚，父组件是上一级的组件
5.HTML5不要在标签里注释，会烂，相信我哈哈  

---

这个递归实现的树状图还需要研究

